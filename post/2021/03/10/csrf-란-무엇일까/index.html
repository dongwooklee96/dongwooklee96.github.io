<!DOCTYPE html>
<html lang="ko-KR">
  <head>
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/atom-one-light.min.css">
    <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>

    <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16.png">
    <link rel="manifest" href="/images/site.webmanifest">

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="개발자 이동욱의 블로그 입니다.">
    <title>CSRF 란 무엇일까? | 개발자 이동욱</title>
    <link rel="stylesheet" href="/css/style.css" />
    <link rel="stylesheet" href="/css/fonts.css" />
    <link rel="stylesheet" href="/css/theme-override.css">
    <header>

  <nav>
    <ul>
      
      
      <li class="pull-left ">
        <a href="/">개발자 이동욱</a>
      </li>
      
      
      <li class="pull-left ">
        <a href="/categories/">categories</a>
      </li>
      
      
      <li class="pull-left ">
        <a href="/tags/">tags</a>
      </li>
      

      

    </ul>
  </nav>
</header>

    <meta name="google-site-verification" content="8He6x5Jy_qOvk1-o8TaN16TjmT9bZUA07bfm25WJhT0" />
  </head>

  <body>
    <br/>

<div class="article-meta">
<h1><span class="title">CSRF 란 무엇일까?</span></h1>
<h2 class="author">이동욱</h2>
<h2 class="date">2021/03/10</h2>
<p class="terms">
  
  
  Categories: <a href="/categories/%EB%B3%B4%EC%95%88">보안</a> 
  
  
  
  Tags: <a href="/tags/csrf">CSRF</a> 
  
  
</p>
</div>


<div class="content-wrapper">
  <main>
    <h3 id="csrf">CSRF</h3>
<hr>
<p><img src="https://user-images.githubusercontent.com/14002238/110636756-fc00a680-81ef-11eb-8940-ee638da62fc2.png" alt="Screen Shot 2021-03-10 at 10 28 45 PM"></p>
<ul>
<li>
<p><code>CSRF(Cross-Site Request Forgery)</code>는 신뢰할 수 있는 사용자를 가장하여 웹 사이트에 원치않는 명령을 보내는 공격입니다.</p>
</li>
<li>
<p>예를 들어, 다른 곳으로 이동하기 위해 사용하는 링크 뒤에 있는 <code>URL</code>에 악의적인 매겨변수를 포함시킴으로써 다음을 수행할 수 있다.</p>
</li>
</ul>
<pre><code>&lt;img src=&quot;https://www.example.com/index.php?action=delete&amp;id=123&quot;&gt;
</code></pre><ul>
<li>
<p>해당 도메인에 수정 권한이 있는 사용자의 경우 <code>&lt;img&gt;</code> 요소가, 사용자 모르게 동작을 수행한다.</p>
</li>
<li>
<p>심지어, 요소가 <code>https://www.example.com</code>에 없는 경우에도 실행된다.</p>
</li>
<li>
<p><code>CSRF</code>를 방지하는 방법은 <code>RestfulAPI</code> 구현 및 시큐어 토큰을 추가하는 등 많은 방법이 있다.</p>
</li>
</ul>
<h3 id="위키-백과">위키 백과</h3>
<hr>
<p>설명이 조금 부족해서 위키백과를 찾아보았다.</p>
<p><img src="https://user-images.githubusercontent.com/14002238/110638080-77168c80-81f1-11eb-90a1-af13554352bb.png" alt="Screen Shot 2021-03-10 at 10 39 18 PM"></p>
<ul>
<li>사이트 간 요청 위조, 원 클릭 공격 또는 세션 라이딩이라고 한다.</li>
<li>웹 응용프로그램이 신뢰하는 사용자로서 무단 명령을 제출하는 웹 사이트의 악의적인 공격 유형이다.</li>
<li>악의적인 웹 사이트가 이러한 명령을 전송할 수 있는 방법은 여러가지가 있다. 예를들어, 특수하게 조작된 이미지 태그, 숨겨진 양식 및 <code>JavaScript XMLHttpRequest</code>는 사용자의 동작에 따라서 작동되기도 하지만 전혀 알아차리지 못하게 이루어지기도 한다.</li>
<li><code>XSS(Cross-site-scripting)</code>과의 차이점은 <code>XSS</code>는 특정 사이트에 대해서 사용자가 가지는 신뢰정보를 이용하는데 반해서, <code>CSRF</code>는 사용자의 브라우저에 있는 신뢰 정보를 이용한다.</li>
</ul>
<h3 id="특징">특징</h3>
<hr>
<p><img src="https://user-images.githubusercontent.com/14002238/110639854-8a2a5c00-81f3-11eb-9cbb-06198496bc29.png" alt="Screen Shot 2021-03-10 at 10 54 10 PM"></p>
<ul>
<li>
<p><code>CSRF</code> 공격에서 공격자의 목표는 무고한 피해자가 악의적으로 조작된 웹 공격을 대상자가 액세스 권한을 가진 웹 사이트에 몰래 제출하도록 하는 것이다.</p>
</li>
<li>
<p>사용자의 웹 브라우저에 저장된 쿠키에 의해 인증된 사용자는 자신도 모르게 사용자를 신뢰하는 사이트로 <code>HTTP</code> 요청을 전송하여 원치 않는 작업을 발생시킬 수 있습니다.</p>
</li>
<li>
<p>웹 브라우저는 특정 도메인에서 사용하는 쿠키를 해당 도메인으로 보내는 웹 요청에 보이지 않게 포함시킵니다.</p>
</li>
<li>
<p>이러한 속성 때문에, 웹 사이트에 로그인 할 때, 생성된 쿠키를 이용해 공격합니다.</p>
</li>
<li>
<p>사용자가 브라우저를 통해서 실수로 요청을 제출한 경우 자동으로 포함된 이 쿠키로 인해서 위조된 요청이 웹 서버에 실제로 나타나며 데이터 반환, 세션 상태 조작, 피해자 계정 변경 등 적절하게 요청된 모든 작업을 수행한다</p>
</li>
<li>
<p>웹 브라우저는 특정 도메인에서 사용하는 쿠키를 해당 도메인으로 보내는 웹 요청에 보이지 않게 포함시킵니다.</p>
</li>
<li>
<p>이러한 속성 때문에, 웹 사이트에 로그인 할 때, 생성된 쿠키를 이용해 공격합니다.</p>
</li>
<li>
<p>사용자가 브라우저를 통해서 실수로 요청을 제출한 경우 자동으로 포함된 이 쿠키로 인해서 위조된 요청이 웹 서버에 실제로 나타나며 데이터 반환, 세션 상태 조작, 피해자 계정 변경 등 적절하게 요청된 모든 작업을 수행 한다.</p>
</li>
</ul>
<h3 id="예방법">예방법</h3>
<hr>
<p><img src="https://user-images.githubusercontent.com/14002238/110640493-379d6f80-81f4-11eb-83f4-b25ba743308a.png" alt="Screen Shot 2021-03-10 at 10 59 01 PM"></p>
<p>대부분의 <code>CSRF</code> 방지 기술은, 웹 응용 프로그램이 허가되지 않은 요청을 탐지할 수 있도록 요청해 추가 인증 데이터를 포함시킴으로서 작동한다.</p>
<h3 id="참고-문헌">참고 문헌</h3>
<hr>
<ul>
<li><a href="https://developer.mozilla.org/en-US/docs/Glossary/CSRF">MDN - CSRF</a></li>
<li><a href="https://en.wikipedia.org/wiki/Cross-site_request_forgery">위키백과 - CSRF</a></li>
</ul>

    <a href="/"> >> Home</a>
  </main>
</div>
    <footer>
      
<script>
(function() {
  function center_el(tagName) {
    var tags = document.getElementsByTagName(tagName), i, tag;
    for (i = 0; i < tags.length; i++) {
      tag = tags[i];
      var parent = tag.parentElement;
      
      if (parent.childNodes.length === 1) {
        
        if (parent.nodeName === 'A') {
          parent = parent.parentElement;
          if (parent.childNodes.length != 1) continue;
        }
        if (parent.nodeName === 'P') parent.style.textAlign = 'center';
      }
    }
  }
  var tagNames = ['img', 'embed', 'object'];
  for (var i = 0; i < tagNames.length; i++) {
    center_el(tagNames[i]);
  }
})();
</script>

      
      <hr/>
      <a href="mailto:sh95119@gmail.com">Mail</a> | <a href="https://github.com/dongwooklee96">Github</a> | <a href="https://www.linkedin.com/in/michael--lee96/">LinkedIn</a> | <a href="https://www.slideshare.net/DongWookLee57">SlideShare</a>
      
    </footer>
    <script>
(function(f, a, t, h, o, m){
	a[h]=a[h]||function(){
		(a[h].q=a[h].q||[]).push(arguments)
	};
	o=f.createElement('script'),
	m=f.getElementsByTagName('script')[0];
	o.async=1; o.src=t; o.id='fathom-script';
	m.parentNode.insertBefore(o,m)
})(document, window, '//analytics.example.com/tracker.js', 'fathom');
fathom('set', 'siteId', 'ABCDE');
fathom('trackPageview');
</script>

  </body>
</html>

